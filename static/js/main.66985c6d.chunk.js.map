{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","services/images-api.js","components/Button/Button.js","App.js","index.js"],"names":["Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","alt","previewURL","src","ImageGallery","images","map","id","tags","webformatURL","largeImageURL","searchQuery","currentPage","pageSize","axios","get","then","response","data","hits","Button","onClick","App","isLoading","onChangeQuery","fetchImages","options","imagesApi","prevState","catch","error","console","log","finally","prevProps","PrevState","length","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sQAwCeA,E,4MAnCbC,MAAQ,CAAEC,MAAO,I,EAEjBC,aAAe,SAAAC,GACb,EAAKC,SAAS,CAAEH,MAAOE,EAAEE,cAAcC,S,EAGzCC,aAAe,SAAAJ,GACbA,EAAEK,iBACF,EAAKC,MAAMC,SAAS,EAAKV,MAAMC,OAC/B,EAAKG,SAAS,CAAEH,MAAO,M,4CAGzB,WACE,OACE,wBAAQU,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAaD,SAAUE,KAAKL,aAA5C,UACE,wBAAQM,KAAK,SAASF,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVE,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZV,MAAOM,KAAKZ,MAAMC,MAClBgB,SAAUL,KAAKV,wB,GA5BHgB,aCITC,EANU,SAAC,GAAD,IAAGC,EAAH,EAAGA,IAAKC,EAAR,EAAQA,WAAR,OACvB,oBAAIV,UAAU,mBAAd,SACE,qBAAKW,IAAKD,EAAYD,IAAKA,EAAKT,UAAU,8BCY/BY,EAbM,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAH,OACnB,oBAAIb,UAAU,eAAd,SACGa,EAAOC,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,KAAMC,EAAb,EAAaA,aAAcC,EAA3B,EAA2BA,cAA3B,OACV,cAAC,EAAD,CAEET,IAAKO,EACLN,WAAYO,EACZC,cAAeA,GAHVH,S,iBCGE,EARK,SAAC,GAAwD,IAAD,IAAtDI,mBAAsD,MAAxC,GAAwC,MAApCC,mBAAoC,MAAtB,EAAsB,MAAnBC,gBAAmB,MAAR,GAAQ,EAC1E,OAAOC,IACJC,IADI,qCAEyBJ,EAFzB,iBAE6CC,EAF7C,oGAEoJC,IAExJG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,KAAKC,SCGrBC,EARA,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAAH,OACb,8BACE,wBAAQ3B,KAAK,SAASF,UAAU,SAAS6B,QAASA,EAAlD,0BCsDWC,E,4MAlDbzC,MAAQ,CACNwB,OAAQ,GACRO,YAAa,EACbD,YAAa,GACbE,SAAU,GACVU,WAAW,G,EASbC,cAAgB,SAAA1C,GACd,EAAKG,SAAS,CAAE0B,YAAa7B,EAAO8B,YAAa,EAAGP,OAAQ,M,EAG9DoB,YAAc,WACZ,MAA+C,EAAK5C,MAE9C6C,EAAU,CAAEf,YAFlB,EAAQA,YAEuBC,YAF/B,EAAqBA,YAEuBC,SAF5C,EAAkCA,UAIlC,EAAK5B,SAAS,CAAEsC,WAAW,IAE3BI,EACeD,GACZV,MAAK,SAAAX,GACJ,EAAKpB,UAAS,SAAA2C,GAAS,MAAK,CAC1BvB,OAAO,GAAD,mBAAMuB,EAAUvB,QAAhB,YAA2BA,IACjCO,YAAagB,EAAUhB,YAAc,SAGxCiB,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,MAC3BG,SAAQ,kBAAM,EAAKhD,SAAS,CAAEsC,WAAW,Q,wDA1B9C,SAAmBW,EAAWC,GACxBA,EAAUxB,cAAgBlB,KAAKZ,MAAM8B,aACvClB,KAAKgC,gB,oBA2BT,WACE,MAA8BhC,KAAKZ,MAA3BwB,EAAR,EAAQA,OAAQkB,EAAhB,EAAgBA,UAChB,OACE,qCACE,cAAC,EAAD,CAAWhC,SAAUE,KAAK+B,gBAC1B,cAAC,EAAD,CAAcnB,OAAQA,IACrBkB,GAAa,kFACblB,EAAO+B,OAAS,GAAK,cAAC,EAAD,CAAQf,QAAS5B,KAAKgC,qB,GA7ClC1B,a,MCDlBsC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.66985c6d.chunk.js","sourcesContent":["// import PropTypes from 'prop-types';\r\n\r\nimport { Component } from 'react';\r\n\r\nclass Searchbar extends Component {\r\n  state = { query: '' };\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.query}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","// import PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ alt, previewURL}) => (\r\n  <li className=\"ImageGalleryItem\">\r\n    <img src={previewURL} alt={alt} className=\"ImageGalleryItem-image\" />\r\n  </li>\r\n);\r\n\r\nexport default ImageGalleryItem;","// import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../../components/ImageGalleryItem/ImageGalleryItem';\r\n\r\nconst ImageGallery = ({ images }) => (\r\n  <ul className=\"ImageGallery\">\r\n    {images.map(({ id, tags, webformatURL, largeImageURL }) => (\r\n      <ImageGalleryItem\r\n        key={id}\r\n        alt={tags}\r\n        previewURL={webformatURL}\r\n        largeImageURL={largeImageURL}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nexport default ImageGallery;\r\n","import axios from 'axios';\r\n\r\nconst fetchImages = ({searchQuery = '', currentPage = 1, pageSize = 12}) => {\r\n  return axios\r\n    .get(\r\n    `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=20663729-402ac0755ef01966534e76e9d&image_type=photo&orientation=horizontal&per_page=${pageSize}`,\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\n\r\nexport default { fetchImages };\r\n","// import PropTypes from 'prop-types';\r\n\r\nconst Button = ({ onClick }) => (\r\n  <div>\r\n    <button type=\"button\" className=\"Button\" onClick={onClick}>\r\n      Load More\r\n    </button>\r\n  </div>\r\n);\r\n\r\nexport default Button;\r\n","import { Component } from 'react';\r\n// Components\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\nimport imagesApi from './services/images-api';\r\nimport Button from './components/Button/Button';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    images: [],\r\n    currentPage: 1,\r\n    searchQuery: '',\r\n    pageSize: 12,\r\n    isLoading: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, PrevState) {\r\n    if (PrevState.searchQuery !== this.state.searchQuery) {\r\n      this.fetchImages();\r\n    }\r\n  }\r\n\r\n  onChangeQuery = query => {\r\n    this.setState({ searchQuery: query, currentPage: 1, images: [] });\r\n  };\r\n\r\n  fetchImages = () => {\r\n    const { searchQuery, currentPage, pageSize } = this.state;\r\n\r\n    const options = { searchQuery, currentPage, pageSize };\r\n\r\n    this.setState({ isLoading: true });\r\n\r\n    imagesApi\r\n      .fetchImages(options)\r\n      .then(images => {\r\n        this.setState(prevState => ({\r\n          images: [...prevState.images, ...images],\r\n          currentPage: prevState.currentPage + 1,\r\n        }));\r\n      })\r\n      .catch(error => console.log(error))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  render() {\r\n    const { images, isLoading } = this.state;\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.onChangeQuery} />\r\n        <ImageGallery images={images} />\r\n        {isLoading && <h1>Загрузка</h1>}\r\n        {images.length > 0 && <Button onClick={this.fetchImages} />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import 'modern-normalize/modern-normalize.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}